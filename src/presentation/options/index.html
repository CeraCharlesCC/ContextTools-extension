<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Context Tools - Options</title>
  <link rel="stylesheet" href="./styles.css">
</head>

<body>
  <div id="app">
    <header class="header">
      <h1>Context Tools Options</h1>
      <p class="subtitle">Configure your extension settings</p>
    </header>

    <main class="main">
      <section class="section">
        <h2>GitHub</h2>

        <div class="setting-row setting-row-column">
          <div class="setting-info">
            <label for="github-token">Personal Access Token (optional)</label>
            <p class="setting-description">Recommended for higher API rate limits. Stored locally in the extension.</p>
          </div>
          <div class="token-row">
            <input id="github-token" class="text-input" type="password" placeholder="ghp_..." autocomplete="off">
            <button id="github-token-toggle" class="button secondary" type="button">Show</button>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Common</h2>

        <div class="setting-row">
          <div class="setting-info">
            <label for="common-notifications-toggle">Notifications</label>
            <p class="setting-description">Show browser notifications</p>
          </div>
          <label class="toggle">
            <input type="checkbox" id="common-notifications-toggle">
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="setting-row">
          <div class="setting-info">
            <label for="common-theme-select">Theme</label>
            <p class="setting-description">Choose your preferred color scheme</p>
          </div>
          <select id="common-theme-select" class="select">
            <option value="system">System</option>
            <option value="light">Light</option>
            <option value="dark">Dark</option>
          </select>
        </div>
      </section>

      <section class="section">
        <h2>Pull Requests</h2>

        <div class="setting-row">
          <div class="setting-info">
            <label for="pr-enabled-toggle">Enable Extension</label>
            <p class="setting-description">Turn extension features on or off for pull requests</p>
          </div>
          <label class="toggle">
            <input type="checkbox" id="pr-enabled-toggle">
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="setting-row">
          <div class="setting-info">
            <label for="pr-default-preset-select">Default Preset</label>
            <p class="setting-description">Used for new PR exports. Advanced changes in the dropdown switch to Custom.</p>
          </div>
          <select id="pr-default-preset-select" class="select">
            <option value="full-conversation">Full conversation</option>
            <option value="with-diffs">With diffs</option>
            <option value="review-comments-only">Review comments only</option>
            <option value="commit-log">Commit log</option>
            <option value="custom">Custom</option>
          </select>
        </div>

        <div class="setting-row setting-row-column setting-row-no-divider">
          <div class="setting-info">
            <label>Default Custom Options</label>
            <p class="setting-description">Applied when the default preset is set to Custom.</p>
          </div>
          <div class="advanced-options-grid">
            <div class="advanced-options-group">
              <h3>Content</h3>
              <label class="checkbox-row">
                <input type="checkbox" id="pr-custom-include-issue-comments-toggle">
                <span>Include issue comments</span>
              </label>
              <label class="checkbox-row">
                <input type="checkbox" id="pr-custom-include-review-comments-toggle">
                <span>Include review comments</span>
              </label>
              <label class="checkbox-row">
                <input type="checkbox" id="pr-custom-include-reviews-toggle">
                <span>Include reviews</span>
              </label>
              <label class="checkbox-row">
                <input type="checkbox" id="pr-custom-include-commits-toggle">
                <span>Include commits</span>
              </label>
            </div>

            <div class="advanced-options-group">
              <h3>Diffs</h3>
              <label class="checkbox-row">
                <input type="checkbox" id="pr-custom-include-file-diffs-toggle">
                <span>Include file diffs</span>
              </label>
              <label class="checkbox-row">
                <input type="checkbox" id="pr-custom-include-commit-diffs-toggle">
                <span>Include commit diffs</span>
              </label>
              <label class="checkbox-row" id="pr-custom-smart-diff-row">
                <input type="checkbox" id="pr-custom-smart-diff-mode-toggle">
                <span>Smart diff mode</span>
              </label>
            </div>

            <div class="advanced-options-group">
              <h3>Ordering</h3>
              <label class="checkbox-row">
                <input type="checkbox" id="pr-custom-timeline-mode-toggle">
                <span>Timeline mode</span>
              </label>
            </div>

            <div class="advanced-options-group">
              <h3>Filters</h3>
              <label class="checkbox-row">
                <input type="checkbox" id="pr-custom-ignore-resolved-comments-toggle">
                <span>Ignore resolved comments</span>
              </label>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <h2>Issues</h2>
        <p class="section-note">Issue exports always use Full conversation content. Only timeline ordering is configurable.</p>

        <div class="setting-row">
          <div class="setting-info">
            <label for="issue-enabled-toggle">Enable Extension</label>
            <p class="setting-description">Turn extension features on or off for issues</p>
          </div>
          <label class="toggle">
            <input type="checkbox" id="issue-enabled-toggle">
            <span class="toggle-slider"></span>
          </label>
        </div>

        <div class="setting-row">
          <div class="setting-info">
            <label for="issue-historical-mode-toggle">Timeline Mode</label>
            <p class="setting-description">Show comments in chronological order</p>
          </div>
          <label class="toggle">
            <input type="checkbox" id="issue-historical-mode-toggle">
            <span class="toggle-slider"></span>
          </label>
        </div>

      </section>

      <section class="section">
        <h2>About</h2>
        <div class="about-info">
          <p><strong>Version:</strong> <span id="version">0.1.0</span></p>
          <p><strong>Browser:</strong> <span id="browser-type">Detecting...</span></p>
        </div>
      </section>

      <div class="save-status" id="save-status"></div>
    </main>
  </div>

  <script type="module" src="./main.ts"></script>
</body>

</html>
